import React, { Dispatch, SetStateAction, useCallback, useEffect, useState } from "react"
import styled from "styled-components"


export const WHITE = "#ffffff"
export const GREEN = "#00A328"
export const RED = "#EA7474"

const EyeWrapper = styled.div`
    display: flex;
    justify-content: center;
    align-items: center;

    &:hover {
        cursor: pointer;
    }
`;

export const Eye = ({
    show,
    setShow,
    visited,
    error
} : {
    show: boolean
    setShow: Dispatch<SetStateAction<boolean>>
    visited: boolean
    error: string
}) => {
    const [color, setColor] = useState<string>(WHITE)

    useEffect(() => {
        if (!visited && !error) {
            setColor(WHITE)
        } else if (visited && !error) {
            setColor(GREEN)
        } else if (visited && error) {
            setColor(RED)
        }
    }, [visited, error])

    const handleSetShowEyeOnClick = useCallback(() => {
        setShow((prevShow: boolean) => !prevShow)
    }, [setShow])

    return (
        <EyeWrapper onClick={handleSetShowEyeOnClick}>
            { show ? <OpenEye color={color} /> : <ClosedEye color={color} /> }
        </EyeWrapper>
    )
}

export const OpenEye = ({ color } : { color: string }) => {
    return (
        <>
        <svg width="21" height="13" viewBox="0 0 21 13" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="path-1-inside-1_270_4541" fill="white">
            <path fillRule="evenodd" clipRule="evenodd" d="M10.0178 0.544189C5.73711 0.544189 1.99964 2.8699 0 6.32667C1.99964 9.78345 5.73711 12.1092 10.0178 12.1092C14.2985 12.1092 18.0359 9.78345 20.0356 6.32668C18.0359 2.8699 14.2985 0.544189 10.0178 0.544189ZM14.1092 6.32667C14.1092 8.62605 12.2452 10.4901 9.94584 10.4901C7.64647 10.4901 5.78245 8.62605 5.78245 6.32667C5.78245 4.0273 7.64647 2.16329 9.94584 2.16329C12.2452 2.16329 14.1092 4.0273 14.1092 6.32667ZM11.937 6.32675C11.937 7.42645 11.0455 8.31793 9.94578 8.31793C8.84608 8.31793 7.95459 7.42645 7.95459 6.32675C7.95459 5.22705 8.84608 4.33556 9.94578 4.33556C11.0455 4.33556 11.937 5.22705 11.937 6.32675Z"/>
            </mask>
            <path d="M0 6.32667L-0.865606 5.82595L-1.15526 6.32667L-0.865606 6.8274L0 6.32667ZM20.0356 6.32668L20.9012 6.8274L21.1908 6.32668L20.9012 5.82595L20.0356 6.32668ZM0.865606 6.8274C2.69385 3.66691 6.10851 1.54419 10.0178 1.54419V-0.455811C5.36571 -0.455811 1.30543 2.07288 -0.865606 5.82595L0.865606 6.8274ZM10.0178 11.1092C6.10851 11.1092 2.69385 8.98643 0.865606 5.82595L-0.865606 6.8274C1.30543 10.5805 5.36571 13.1092 10.0178 13.1092V11.1092ZM19.17 5.82595C17.3417 8.98643 13.9271 11.1092 10.0178 11.1092V13.1092C14.6699 13.1092 18.7301 10.5805 20.9012 6.8274L19.17 5.82595ZM10.0178 1.54419C13.9271 1.54419 17.3417 3.66692 19.17 6.8274L20.9012 5.82595C18.7301 2.07288 14.6699 -0.455811 10.0178 -0.455811V1.54419ZM9.94584 11.4901C12.7975 11.4901 15.1092 9.17834 15.1092 6.32667H13.1092C13.1092 8.07377 11.6929 9.49006 9.94584 9.49006V11.4901ZM4.78245 6.32667C4.78245 9.17834 7.09418 11.4901 9.94584 11.4901V9.49006C8.19875 9.49006 6.78245 8.07377 6.78245 6.32667H4.78245ZM9.94584 1.16329C7.09418 1.16329 4.78245 3.47501 4.78245 6.32667H6.78245C6.78245 4.57958 8.19875 3.16329 9.94584 3.16329V1.16329ZM15.1092 6.32667C15.1092 3.47501 12.7975 1.16329 9.94584 1.16329V3.16329C11.6929 3.16329 13.1092 4.57958 13.1092 6.32667H15.1092ZM9.94578 9.31793C11.5978 9.31793 12.937 7.97873 12.937 6.32675H10.937C10.937 6.87416 10.4932 7.31793 9.94578 7.31793V9.31793ZM6.95459 6.32675C6.95459 7.97873 8.29379 9.31793 9.94578 9.31793V7.31793C9.39836 7.31793 8.95459 6.87416 8.95459 6.32675H6.95459ZM9.94578 3.33556C8.29379 3.33556 6.95459 4.67476 6.95459 6.32675H8.95459C8.95459 5.77933 9.39836 5.33556 9.94578 5.33556V3.33556ZM12.937 6.32675C12.937 4.67476 11.5978 3.33556 9.94578 3.33556V5.33556C10.4932 5.33556 10.937 5.77933 10.937 6.32675H12.937Z" fill={color} mask="url(#path-1-inside-1_270_4541)"/>
        </svg>
        </>
        
    )
}

export const ClosedEye = ({ color } : { color: string }) => {
    return (
        <>
        <svg width="21" height="18" viewBox="0 0 21 18" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="path-1-inside-1_270_4511" fill="white">
            <path fillRule="evenodd" clipRule="evenodd" d="M10.0178 2.54419C5.73711 2.54419 1.99964 4.8699 0 8.32667C1.99964 11.7835 5.73711 14.1092 10.0178 14.1092C14.2985 14.1092 18.0359 11.7835 20.0356 8.32668C18.0359 4.8699 14.2985 2.54419 10.0178 2.54419ZM14.1092 8.32667C14.1092 10.6261 12.2452 12.4901 9.94584 12.4901C7.64647 12.4901 5.78245 10.6261 5.78245 8.32667C5.78245 6.0273 7.64647 4.16329 9.94584 4.16329C12.2452 4.16329 14.1092 6.0273 14.1092 8.32667ZM11.937 8.32675C11.937 9.42645 11.0455 10.3179 9.94578 10.3179C8.84608 10.3179 7.95459 9.42645 7.95459 8.32675C7.95459 7.22705 8.84608 6.33556 9.94578 6.33556C11.0455 6.33556 11.937 7.22705 11.937 8.32675Z"/>
            </mask>
            <path d="M0 8.32667L-0.865606 7.82595L-1.15526 8.32667L-0.865606 8.8274L0 8.32667ZM20.0356 8.32668L20.9012 8.8274L21.1908 8.32668L20.9012 7.82595L20.0356 8.32668ZM0.865606 8.8274C2.69385 5.66691 6.10851 3.54419 10.0178 3.54419V1.54419C5.36571 1.54419 1.30543 4.07288 -0.865606 7.82595L0.865606 8.8274ZM10.0178 13.1092C6.10851 13.1092 2.69385 10.9864 0.865606 7.82595L-0.865606 8.8274C1.30543 12.5805 5.36571 15.1092 10.0178 15.1092V13.1092ZM19.17 7.82595C17.3417 10.9864 13.9271 13.1092 10.0178 13.1092V15.1092C14.6699 15.1092 18.7301 12.5805 20.9012 8.8274L19.17 7.82595ZM10.0178 3.54419C13.9271 3.54419 17.3417 5.66692 19.17 8.8274L20.9012 7.82595C18.7301 4.07288 14.6699 1.54419 10.0178 1.54419V3.54419ZM9.94584 13.4901C12.7975 13.4901 15.1092 11.1783 15.1092 8.32667H13.1092C13.1092 10.0738 11.6929 11.4901 9.94584 11.4901V13.4901ZM4.78245 8.32667C4.78245 11.1783 7.09418 13.4901 9.94584 13.4901V11.4901C8.19875 11.4901 6.78245 10.0738 6.78245 8.32667H4.78245ZM9.94584 3.16329C7.09418 3.16329 4.78245 5.47501 4.78245 8.32667H6.78245C6.78245 6.57958 8.19875 5.16329 9.94584 5.16329V3.16329ZM15.1092 8.32667C15.1092 5.47501 12.7975 3.16329 9.94584 3.16329V5.16329C11.6929 5.16329 13.1092 6.57958 13.1092 8.32667H15.1092ZM9.94578 11.3179C11.5978 11.3179 12.937 9.97873 12.937 8.32675H10.937C10.937 8.87416 10.4932 9.31793 9.94578 9.31793V11.3179ZM6.95459 8.32675C6.95459 9.97873 8.29379 11.3179 9.94578 11.3179V9.31793C9.39836 9.31793 8.95459 8.87416 8.95459 8.32675H6.95459ZM9.94578 5.33556C8.29379 5.33556 6.95459 6.67476 6.95459 8.32675H8.95459C8.95459 7.77933 9.39836 7.33556 9.94578 7.33556V5.33556ZM12.937 8.32675C12.937 6.67476 11.5978 5.33556 9.94578 5.33556V7.33556C10.4932 7.33556 10.937 7.77933 10.937 8.32675H12.937Z" fill={color} mask="url(#path-1-inside-1_270_4511)"/>
            <line x1="17.9323" y1="0.353553" x2="1.57695" y2="16.7089" stroke={color}/>
        </svg>
        </>

    )
}